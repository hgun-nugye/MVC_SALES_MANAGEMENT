@model QuanLyBanHang.Models.SanPham

@{
    ViewBag.Title = "Thêm sản phẩm";
}

<div class="container">
    <h4 class="text-success mb-4">
        Thêm sản phẩm
    </h4>

    @using (Html.BeginForm("Create", "SanPham", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
        @Html.AntiForgeryToken()
        @Html.ValidationSummary(true, "", new { @class = "text-danger mb-3" })

        <div class="row g-3 border p-4 rounded shadow-sm bg-light">
            <!-- Tên sản phẩm -->
            <div class="col-md-6">
                <label class="form-label">Tên sản phẩm</label>
                @Html.TextBoxFor(m => m.TenSP, new { @class = "form-control", placeholder = "Nhập tên sản phẩm..." })
                @Html.ValidationMessageFor(m => m.TenSP, "", new { @class = "text-danger" })
            </div>

            <!-- Đơn giá -->
            <div class="col-md-3">
                <label class="form-label">Đơn giá</label>
                @Html.TextBoxFor(m => m.DonGia, new { @class = "form-control", type = "number", step = "0.01" })
                @Html.ValidationMessageFor(m => m.DonGia, "", new { @class = "text-danger" })
            </div>

            <!-- Giá bán -->
            <div class="col-md-3">
                <label class="form-label">Giá bán</label>
                @Html.TextBoxFor(m => m.GiaBan, new { @class = "form-control", type = "number", step = "0.01" })
                @Html.ValidationMessageFor(m => m.GiaBan, "", new { @class = "text-danger" })
            </div>

            <!-- Mô tả sản phẩm -->
            <div class="col-12">
                <label class="form-label">Mô tả sản phẩm</label>
                @Html.TextAreaFor(m => m.MoTaSP, 5, 50, new { @class = "form-control", placeholder = "Nhập mô tả..." })
                @Html.ValidationMessageFor(m => m.MoTaSP, "", new { @class = "text-danger" })
            </div>

            <!-- Thành phần -->
            <div class="col-12">
                <label class="form-label">Thành phần</label>
                @Html.TextBoxFor(m => m.ThanhPhan, new { @class = "form-control", placeholder = "Nhập thành phần..." })
                @Html.ValidationMessageFor(m => m.ThanhPhan, "", new { @class = "text-danger" })
            </div>

            <!-- Công dụng -->
            <div class="col-12">
                <label class="form-label">Công dụng</label>
                @Html.TextBoxFor(m => m.CongDung, new { @class = "form-control", placeholder = "Nhập công dụng..." })
                @Html.ValidationMessageFor(m => m.CongDung, "", new { @class = "text-danger" })
            </div>

            <!-- HDSD -->
            <div class="col-12">
                <label class="form-label">Hướng dẫn sử dụng</label>
                @Html.TextBoxFor(m => m.HDSD, new { @class = "form-control", placeholder = "Nhập hướng dẫn sử dụng..." })
                @Html.ValidationMessageFor(m => m.HDSD, "", new { @class = "text-danger" })
            </div>

            <!-- Xuất xứ -->
            <div class="col-12">
                <label class="form-label">Xuất xứ</label>
                @Html.TextBoxFor(m => m.XuatXu, new { @class = "form-control", placeholder = "Nhập xuất xứ..." })
                @Html.ValidationMessageFor(m => m.XuatXu, "", new { @class = "text-danger" })
            </div>

            <!-- Bảo quản -->
            <div class="col-12">
                <label class="form-label">Bảo quản</label>
                @Html.TextBoxFor(m => m.BaoQuan, new { @class = "form-control", placeholder = "Nhập bảo quản..." })
                @Html.ValidationMessageFor(m => m.BaoQuan, "", new { @class = "text-danger" })
            </div>

            <!-- Trạng thái -->
            <div class="col-md-3">
                <label class="form-label">Trạng thái</label>
                @Html.DropDownListFor(
                m => m.TrangThai,
                        (SelectList)ViewBag.TrangThai,
                        "-- Trạng thái --",
                        new { @class = "form-select" }
                        )
            @Html.ValidationMessageFor(m => m.TrangThai, "", new { @class = "text-danger" })
        </div>

        <!-- Số lượng tồn -->
        <div class="col-md-3">
            <label class="form-label">Số lượng tồn</label>
            @Html.TextBoxFor(m => m.SoLuongTon, new { @class = "form-control", type = "number" })
            @Html.ValidationMessageFor(m => m.SoLuongTon, "", new { @class = "text-danger" })
        </div>

        <!-- Ảnh minh họa -->
        <div class="col-md-6">
            <label class="form-label">Ảnh minh họa</label>
            <input type="file" name="AnhFile" class="form-control" accept="image/*" />
            <small class="text-muted">Chọn ảnh từ máy tính để tải lên.</small>

            @if (!string.IsNullOrEmpty(Model?.AnhMH))
                {
                    <div class="mt-2">
                        <img src="~/images/@Model.AnhMH" width="150" class="rounded border" alt="Ảnh sản phẩm" />
                    </div>
                }
            </div>

            <!-- Loại sản phẩm -->
            <div class="col-md-4">
                <label class="form-label">Loại sản phẩm</label>
                @Html.DropDownListFor(model => model.MaLoai, (SelectList)ViewBag.LoaiSP, "--Chọn loại--", new { @class = "form-select" })
                @Html.ValidationMessageFor(m => m.MaLoai, "", new { @class = "text-danger" })
            </div>

            <!-- Nhà cung cấp -->
            <div class="col-md-4">
                <label class="form-label">Nhà cung cấp</label>
                @Html.DropDownListFor(model => model.MaNCC, (SelectList)ViewBag.NhaCC, "--Chọn nhà cung cấp--", new { @class = "form-select" })
                @Html.ValidationMessageFor(m => m.MaNCC, "", new { @class = "text-danger" })
            </div>

            <!-- Gian hàng -->
            <div class="col-md-4">
                <label class="form-label">Gian hàng</label>
                @Html.DropDownListFor(model => model.MaGH, (SelectList)ViewBag.GianHang, "--Chọn gian hàng--", new { @class = "form-select" })
                @Html.ValidationMessageFor(m => m.MaGH, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="mt-4 d-flex gap-2">
            <button type="submit" class="btn btn-success">
                <i class="fa-solid fa-check"></i> Thêm mới
            </button>
            <a asp-action="Index" asp-controller="SanPham" class="btn btn-secondary">
                <i class="fa-solid fa-arrow-left-long"></i> Quay lại
            </a>
        </div>
    }
</div>